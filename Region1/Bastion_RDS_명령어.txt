cat >> root_query.sql << EOF
create database care_db;
create user careadmin@ identified by 'hackers';
grant all on care_db.* to 'careadmin'@'';
flush privileges;
EOF

cat >> member.sql << EOF
create table member ( 
 num int unsigned not null auto_increment, 
 id varchar(50) not null, 
 pass varchar(50) not null, 
 name varchar(50), 
 nick varchar(50), 
 mphone varchar(20), 
 email varchar(50), 
 regist_day varchar(30), 
 primary key(num,id) 
 );
EOF

cat >> greet.sql << EOF
create table greet (
 num int unsigned not null auto_increment,
 id varchar(15),
 nick varchar(10),
 subject varchar(255) not null,
 content text,
 regist_day varchar(20),
 hit int unsigned,
 file_name varchar(255),
 primary key(num)
 );
EOF


dbaddr=`aws cloudformation describe-stacks --query 'Stacks[].Outputs[?OutputKey==\`RDSEndPointAddress\`].OutputValue' --output=text --region=ap-northeast-2`


mysql -uadmin -p123456789 -h$dbaddr < root_query.sql
mysql -uadmin -p123456789 -h$dbaddr care_db < member.sql
mysql -uadmin -p123456789 -h$dbaddr care_db < greet.sql